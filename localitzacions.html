<!DOCTYPE html>
<html lang="ca">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>On puc donar sang?</title>
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/localitzacions.css">
    <link rel="stylesheet" href="styles/modal.css">
</head>

<body>
    <header>
        <div class="header-left">
            <button class="back-btn" onclick="window.location.href='xat.html'">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
                Tornar
            </button>
        </div>
        <h1>On puc donar sang?</h1>
        <div class="header-right">
            <!-- Perfil (nuevo) -->
            <button class="icon-btn" id="profileBtn" title="Perfil" onclick="location.href='personalizacion.html'">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                </svg>
            </button>
        </div>
    </header>

    <main>
        <div class="search-container">
            <div class="search-box">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                    stroke-width="2">
                    <circle cx="11" cy="11" r="8"></circle>
                    <path d="m21 21-4.35-4.35"></path>
                </svg>
                <input type="text" id="searchInput" placeholder="Escriu la teva població, comarca o codi postal">
                <button class="location-btn" id="useLocationBtn" title="Usa la meva ubicació">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="10"></circle>
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M12 2v2M12 20v2M2 12h2M20 12h2"></path>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Secció Avui ens trobaràs a -->
        <div class="today-section">
            <h2 class="today-title">Avui ens trobaràs a</h2>
            <button class="btn-calendar"
                onclick="window.open('https://www.bancsang.net/ca/donacions/sang/calendari-de-recollida/', '_blank')">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                    <line x1="16" y1="2" x2="16" y2="6"></line>
                    <line x1="8" y1="2" x2="8" y2="6"></line>
                    <line x1="3" y1="10" x2="21" y2="10"></line>
                </svg>
                <span>Veure calendari de recollida
                </span>
            </button>
        </div>

        <h2 class="section-title">Hospitals amb espai de donació</h2>

        <div class="locations-grid">
            <!-- Barcelona -->
            <div class="city-section" data-city="Barcelona" data-comarca="Barcelonès">
                <h3 class="city-name">Barcelona</h3>

                <div class="hospital-card" data-hospital-id="4">
                    <h4>Germans Trias i Pujol</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>

                <div class="hospital-card" data-hospital-id="3">
                    <h4>Hospital Clínic</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>

                <div class="hospital-card" data-hospital-id="2">
                    <h4>Hospital de la Santa Creu i Sant Pau</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Girona -->
            <div class="city-section" data-city="Girona" data-comarca="Gironès">
                <h3 class="city-name">Girona</h3>

                <div class="hospital-card" data-hospital-id="9">
                    <h4>Hospital Universitari de Girona Doctor Josep Trueta</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- L'Hospitalet de Llobregat -->
            <div class="city-section" data-city="L'Hospitalet de Llobregat" data-comarca="Barcelonès">
                <h3 class="city-name">Hospitalet de Llobregat</h3>

                <div class="hospital-card" data-hospital-id="5">
                    <h4>Hospital Universitari de Bellvitge</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Barcelona (Universitari) -->
            <div class="city-section" data-city="Barcelona" data-comarca="Barcelonès">
                <h3 class="city-name">Barcelona</h3>

                <div class="hospital-card" data-hospital-id="1">
                    <h4>Hospital Universitari Vall d'Hebron</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Lleida -->
            <div class="city-section" data-city="Lleida" data-comarca="Segrià">
                <h3 class="city-name">Lleida</h3>

                <div class="hospital-card" data-hospital-id="10">
                    <h4>Hospital Universitari Arnau de Vilanova</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Manresa -->
            <div class="city-section" data-city="Manresa" data-comarca="Bages">
                <h3 class="city-name">Manresa</h3>

                <div class="hospital-card" data-hospital-id="7">
                    <h4>Fundació Althaia - Hospital Sant Joan de Déu</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Reus -->
            <div class="city-section" data-city="Reus" data-comarca="Baix Camp">
                <h3 class="city-name">Reus</h3>

                <div class="hospital-card" data-hospital-id="13">
                    <h4>Hospital Universitari Sant Joan de Reus</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Tarragona -->
            <div class="city-section" data-city="Tarragona" data-comarca="Tarragonès">
                <h3 class="city-name">Tarragona</h3>

                <div class="hospital-card" data-hospital-id="11">
                    <h4>Hospital Universitari Joan XXIII</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Terrassa -->
            <div class="city-section" data-city="Terrassa" data-comarca="Vallès Occidental">
                <h3 class="city-name">Terrassa</h3>

                <div class="hospital-card" data-hospital-id="8">
                    <h4>Hospital Universitari Mútua Terrassa</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>

            <!-- Tortosa -->
            <div class="city-section" data-city="Tortosa" data-comarca="Baix Ebre">
                <h3 class="city-name">Tortosa</h3>

                <div class="hospital-card" data-hospital-id="12">
                    <h4>Hospital Verge de la Cinta</h4>
                    <div class="card-actions">
                        <button class="btn-donate">Vull donar</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="no-results" id="noResults" style="display: none;">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="2">
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.35-4.35"></path>
            </svg>
            <h3>No s'han trobat resultats</h3>
            <p>Prova amb una altra població o comarca</p>
        </div>
    </main>

    <!-- Modal d'informació -->
    <div class="modal-overlay" id="infoModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3 id="modalTitle"></h3>
                <button class="modal-close" id="closeModalBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-icon" id="modalIcon"></div>
                <div class="modal-content" id="modalContent"></div>
                <div class="modal-actions" id="modalActions"></div>
            </div>
        </div>
    </div>

    <!-- Modal d'error/alerta -->
    <div class="modal-overlay" id="alertModal">
        <div class="modal-container modal-small">
            <div class="modal-header alert-header">
                <h3 id="alertTitle"></h3>
                <button class="modal-close" id="closeAlertBtn">&times;</button>
            </div>
            <div class="modal-body">
                <div class="alert-icon" id="alertIcon"></div>
                <p id="alertMessage"></p>
                <div class="modal-actions">
                    <button class="btn-modal-primary" id="alertOkBtn">D'acord</button>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/user-data-manager.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/theme-manager.js"></script>
    <script src="scripts/modal.js"></script>
    <script src="scripts/localitzacions.js"></script>
</body>

</html>